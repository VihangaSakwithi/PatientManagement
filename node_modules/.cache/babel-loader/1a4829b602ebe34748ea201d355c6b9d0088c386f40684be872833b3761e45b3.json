{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vsakw\\\\Downloads\\\\PatientManagement\\\\src\\\\components\\\\PatientList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getpatient, addpatient, editpatient, deletepatient } from '../services/ApiService';\nimport AddPatient from './AddPatient';\nimport EditPatient from './EditPatient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientList() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [showAddPatientForm, setShowAddPatientForm] = useState(false);\n  const [showEditPatientForm, setShowEditPatientForm] = useState(false);\n  const [selectedEditData, setSelectedEditData] = useState();\n  useEffect(() => {\n    let mount = true;\n    getpatient().then(res => {\n      console.log(\"res from api\", res);\n      setPatients(res);\n      return () => mount = false;\n    });\n  }, []);\n  const handleAddSubmit = e => {\n    addpatient(e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  const handleEditBtn = patient => {\n    setSelectedEditData(patient);\n    console.log(\"patient selected is\", patient);\n    setShowEditPatientForm(true);\n    setShowAddPatientForm(false);\n  };\n  const handleEditSubmit = (e, id) => {\n    editpatient(id, e.target).then(res => {\n      setPatients(res);\n    });\n  };\n  function handleCancelBtn() {\n    setShowAddPatientForm(false);\n  }\n  const handleDeleteBtn = id => {\n    deletepatient(id).then(res => {\n      setPatients(patients.filter(p => p.patient_id !== id));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Registered Patients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table\",\n      style: \"width: 600px;\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Blood Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: patients.map(patient => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: patient.blood\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBtn(patient),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteBtn(patient.patient_id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, patient.patient_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 20\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddPatientForm(true),\n      children: \"Add New Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 1\n    }, this), showAddPatientForm && /*#__PURE__*/_jsxDEV(AddPatient, {\n      handleAddSubmit: handleAddSubmit,\n      handleCancelBtn: handleCancelBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 28\n    }, this), showEditPatientForm && /*#__PURE__*/_jsxDEV(EditPatient, {\n      handleEditSubmit: handleEditSubmit,\n      selectedEditData: selectedEditData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n}\n_s(PatientList, \"FCCNn4ebvff9N8vp7hACoML785g=\");\n_c = PatientList;\nvar _c;\n$RefreshReg$(_c, \"PatientList\");","map":{"version":3,"names":["React","useEffect","useState","getpatient","addpatient","editpatient","deletepatient","AddPatient","EditPatient","PatientList","patients","setPatients","showAddPatientForm","setShowAddPatientForm","showEditPatientForm","setShowEditPatientForm","selectedEditData","setSelectedEditData","mount","then","res","console","log","handleAddSubmit","e","target","handleEditBtn","patient","handleEditSubmit","id","handleCancelBtn","handleDeleteBtn","filter","p","patient_id","map","first_name","last_name","blood"],"sources":["C:/Users/vsakw/Downloads/PatientManagement/src/components/PatientList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { getpatient, addpatient, editpatient , deletepatient} from '../services/ApiService'\nimport AddPatient from './AddPatient'\nimport EditPatient from './EditPatient'\n\nexport default function PatientList() {\n\nconst [patients, setPatients] = useState([])\nconst [showAddPatientForm, setShowAddPatientForm] = useState(false)\nconst [showEditPatientForm, setShowEditPatientForm] = useState(false)\nconst [selectedEditData, setSelectedEditData] = useState()\n\nuseEffect(() => {\n    let mount = true\n    getpatient()\n    .then(res => {console.log(\"res from api\", res)\n        setPatients(res)\n        return() => mount = false\n    })\n}, [])\n\nconst handleAddSubmit = (e) => {\n    addpatient(e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\n\nconst handleEditBtn = (patient) => {\n    setSelectedEditData(patient)\n    console.log(\"patient selected is\", patient)\n    setShowEditPatientForm(true)\n    setShowAddPatientForm(false)\n}\n\nconst handleEditSubmit = (e, id) => {\n    editpatient(id, e.target)\n    .then(res => {\n        setPatients(res)\n    })\n}\nfunction handleCancelBtn() {\n    setShowAddPatientForm(false)\n}\nconst handleDeleteBtn = (id) => {\n    deletepatient(id)\n    .then(res => {\n        setPatients(patients.filter(p=> p.patient_id !== id))\n    })\n}\n\n  return (\n    <>\n<h3>Registered Patients</h3>\n    <table class=\"table\" style=\"width: 600px;\">\n  <thead>\n    <tr>\n        <td><b>First Name</b></td>\n        <td><b>Last Name</b></td>\n        <td><b>Blood Group</b></td>\n        <td><b>Action</b></td>\n    </tr>\n  </thead>\n  <tbody>\n         {patients.map(patient => {\n            return <tr key={patient.patient_id}>\n                <td>{patient.first_name}</td>\n                <td>{patient.last_name}</td>\n                <td>{patient.blood}</td>\n                <td><button onClick={()=>handleEditBtn(patient)}>Edit</button> <button onClick={()=>handleDeleteBtn(patient.patient_id)}>Delete</button></td>\n            </tr>\n            })}\n  </tbody>\n</table>\n<button onClick={()=>setShowAddPatientForm(true)}>Add New Patient</button>\n    {showAddPatientForm && <AddPatient handleAddSubmit={handleAddSubmit} handleCancelBtn = {handleCancelBtn}/>}\n    {showEditPatientForm && <EditPatient handleEditSubmit={handleEditSubmit} selectedEditData = {selectedEditData}/>}\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}